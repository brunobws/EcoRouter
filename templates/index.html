<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoRouter</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOfhpMIiqWQvCrNeNpLXVLcU8TqoAR37c&libraries=places"></script>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}">

    <!-- Seu CSS externo -->
    <link rel="stylesheet" href="static/style.css">

</head>
<body>
    <!-- Modal Popup -->
    <div class="modal-overlay" id="welcomeModal">
        <div class="modal-content">
            <div class="modal-header">
                <i class="fas fa-leaf"></i>
                <h2>Bem-vindo ao EcoRouter!</h2>
                <span class="facens-badge">Upx</span>
            </div>
            
            <div class="modal-body">
                <p style="font-size: 1.1rem; margin-bottom: 1rem;">
                    O <strong>EcoRouter</strong> √© um projeto acad√™mico desenvolvido por estudantes da 
                    <strong>FACENS - Sorocaba</strong>, com o objetivo de promover a sustentabilidade 
                    no transporte urbano.
                </p>

                <h3>
                    <i class="fas fa-bullseye"></i>
                    Nosso Objetivo
                </h3>
                <p>
                    Calcular rotas inteligentes que <strong>reduzem as emiss√µes de CO‚ÇÇ</strong>, 
                    ajudando motoristas a economizarem combust√≠vel e contribu√≠rem para um 
                    planeta mais sustent√°vel.
                </p>

                <h3>
                    <i class="fas fa-lightbulb"></i>
                    Como Funciona?
                </h3>
                <ul>
                    <li>Informe sua origem e destino</li>
                    <li>Digite quantas vezes por semana voc√™ faz esse trajeto</li>
                    <li>Receba a rota ecol√≥gica otimizada</li>
                    <li>Veja quanto CO‚ÇÇ voc√™ pode economizar por ano!</li>
                </ul>
            </div>

            <div class="modal-footer">
                <p>Juntos por um planeta mais sustent√°vel</p>
                <button class="btn-close-modal" onclick="closeWelcomeModal()">
                    üåø Come√ßar a Calcular
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Saiba Mais sobre C√°lculos -->
<div class="modal-overlay" id="calculationsModal">
    <div class="modal-content">
        <div class="modal-header">
            <i class="fas fa-calculator"></i>
            <h2>Como Calculamos a Economia de CO‚ÇÇ</h2>
            <p>Entenda a metodologia por tr√°s do EcoRouter</p>
        </div>
        
        <div class="modal-body">

            <h3>
                <i class="fas fa-car"></i>
                Fatores de Emiss√£o 
            </h3>
            <p>Baseamos nossos c√°lculos em dados de emiss√µes de <strong>carros movidos a gasolina</strong>:</p>
            <ul>
                <li><strong>Rota Padr√£o:</strong> 0.120 kg CO‚ÇÇ/km (com tr√¢nsito e paradas frequentes)</li>
                <li><strong>Rota Ecol√≥gica:</strong> 0.095 kg CO‚ÇÇ/km (velocidade constante, menos congestionamento)</li>
            </ul>
            <br style="font-size: 0.9rem; color: #6c757d; margin-top: 0.5rem;">
                <i class="fas fa-info-circle"></i>
                <strong>M√©dia utilizada:</strong> Carro de passeio m√©dio brasileiro (1.0 - 2.0, gasolina), 
                com base em dados do IPCC e CONPET. </br>
                <strong class="text-danger">Isso apenas em faze teste</strong> A iten√ß√£o √© ja pegar os valores reias da API
            </p>

            <h3>
                <i class="fas fa-leaf"></i>
                Integra√ß√£o com API
            </h3>
            <p>Ultilizamos a integra√ß√£o com API do ...:</p>
            <p>
                asasasasas
            </p>

            

            <h3>
                <i class="fas fa-chart-line"></i>
                C√°lculo de Economia Anual
            </h3>
            <p>A economia √© calculada considerando:</p>
            <div class="calculation-box">
                <p><strong>Emiss√£o Padr√£o Anual =</strong></p>
                <p>Dist√¢ncia √ó Fator de Emiss√£o √ó Frequ√™ncia Semanal √ó 52 semanas</p>
                <br>
                <p><strong>Emiss√£o Eco Anual =</strong></p>
                <p>Dist√¢ncia √ó Fator de Emiss√£o √ó Frequ√™ncia Semanal √ó 52 semanas</p>
                <br>
                <p><strong>Economia =</strong></p>
                <p>Emiss√£o Padr√£o - Emiss√£o Eco</p>
            </div>

            <h3>
                <i class="fas fa-tree"></i>
                Equival√™ncias Educativas
            </h3>
            <ul>
                <li><strong>√Årvores:</strong> Uma √°rvore adulta absorve ~21 kg de CO‚ÇÇ por ano</li>
                <li><strong>Quil√¥metros:</strong> Com a economia, equivale a n√£o dirigir</li>
            </ul>

            <h3>
    <i class="fas fa-map-marked-alt"></i>
    Por que a Rota Eco pode ser Maior?
</h3>
<p>
    A rota ecol√≥gica <strong>pode ser ligeiramente mais longa</strong> que a rota convencional, 
    mas compensa ao evitar:
</p>
<ul>
    <li>Congestionamentos e tr√¢nsito intenso</li>
    <li>Paradas e arranques frequentes</li>
    <li>Sem√°foros e cruzamentos problem√°ticos</li>
</ul>
<div class="eco-highlight">
    <p style="font-size: 1.1rem; margin: 0;">
        Mesmo sendo mais longa, a rota eco emite 
        <span style="color: var(--primary-green); font-weight: bold; font-size: 1.2rem;">at√© 20% menos CO‚ÇÇ!</span>
    </p>
    <p style="margin-top: 1rem; font-size: 1rem; color: #2c3e50;">
        <strong>üíö Cada quilograma de CO‚ÇÇ economizado salva a natureza e contribui 
        para um ar mais limpo, ajudando a preservar vidas.</strong>
    </p>
</div>

            <div class="info-highlight">
                <i class="fas fa-lightbulb"></i>
                <p>
                    <strong>Nota:</strong> Em produ√ß√£o, o sistema integraria APIs reais de roteamento 
                    (Google Maps, OpenRouteService) para dados reais!
                </p>
            </div>
        </div>

        <div class="modal-footer">
            <p>üßÆ C√°lculos baseados em dados reais em compara√ß√£o <strong>rota padr√£o</strong> e <strong>rota ecol√≥gica</strong>  </p>
            <button class="btn-close-modal" onclick="closeCalculationsModal()">
                ‚úì Entendi
            </button>
        </div>
    </div>
</div>


    <div class="main-container">
        <!-- Header -->
        <div class="header">
            <h1>
                <i class="fas fa-leaf icon"></i>
                EcoRouter
            </h1>
            <p>Escolha a rota que o planeta agradece</p>
        </div>

        <!-- Formul√°rio com Google Maps -->
        <div class="form-card">
            <!-- Autocomplete para Origem -->
            <div class="mb-4">
                <label class="form-label">
                    <i class="fas fa-map-marker-alt" style="color: var(--primary-green);"></i>
                    Buscar Origem
                </label>
                <input type="text" class="form-control" id="originSearch" placeholder="Digite um endere√ßo...">
                <small id="originStatus" class="text-muted"></small>
            </div>

            <!-- Autocomplete para Destino -->
            <div class="mb-4">
                <label class="form-label">
                    <i class="fas fa-map-marker-alt" style="color: var(--secondary-blue);"></i>
                    Buscar Destino
                </label>
                <input type="text" class="form-control" id="destinationSearch" placeholder="Digite um endere√ßo...">
                <small id="destinationStatus" class="text-muted"></small>
            </div>

            <!-- Status Sele√ß√£o -->
            <div id="selectionStatus" class="mb-3" style="display: none;">
                <p id="statusText"></p>
            </div>

            <!-- Frequ√™ncia -->
            <div class="mb-4">
                <label class="form-label">
                    <i class="fas fa-calendar-week" style="color: #8b5cf6;"></i>
                    Frequ√™ncia semanal
                </label>
                <input type="number" class="form-control" id="frequency" placeholder="Quantas vezes por semana?" min="1" max="7">
                <small class="text-muted">Digite um n√∫mero entre 1 e 7</small>
            </div>

            <div id="error-message" class="alert alert-danger" style="display: none;"></div>

            <button class="btn-calculate" id="calculateBtn" onclick="calculateRoute()">
                üåø Calcular Rota Ecol√≥gica
            </button>
        </div>

        <!-- Resultados -->
        <div id="results" style="display: none;">
            <!-- Mapa -->
            <div class="result-card">
                <h2 style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1.5rem;">
                    <i class="fas fa-map" style="color: var(--primary-green);"></i>
                    Sua Rota Ecol√≥gica
                </h2>
                
                <!-- Mapa Embed do Google Maps -->
                <div id="mapEmbed" style="width: 100%; height: 400px; margin-bottom: 1.5rem; border-radius: 0.75rem; overflow: hidden;">
                    <iframe id="mapIframe" width="100%" height="100%" frameborder="0" style="border:0" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
                </div>
                
                <!-- Informa√ß√µes da Rota -->
                <div style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); padding: 1.5rem; border-radius: 0.75rem; margin-bottom: 1.5rem;">
                    <div class="row">
                        <div class="col-md-6">
                            <p class="mb-2"><strong>üìç Dist√¢ncia da rota eco:</strong> <span id="distanceEco"></span> km</p>
                            <p class="mb-2"><strong>‚è±Ô∏è Tempo estimado:</strong> <span id="durationEco"></span> min</p>
                        </div>
                        <div class="col-md-6">
                            <p class="mb-2"><strong>üõ£Ô∏è Dist√¢ncia rota padr√£o:</strong> <span id="distanceStandard"></span> km</p>
                            <p class="mb-0"><strong>‚è±Ô∏è Tempo padr√£o:</strong> <span id="durationStandard"></span> min</p>
                        </div>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #ddd;">
                        <small style="color: #666; font-style: italic;" id="analysisMessage"></small>
                    </div>
                </div>
                
                <!-- Bot√£o Seguir Rota -->
                <button class="btn btn-success btn-lg w-100" onclick="followEcoRoute()" style="margin-bottom: 1.5rem;">
                    <i class="fas fa-directions"></i> Seguir Rota Ecol√≥gica no Google Maps
                </button>
            </div>

            <!-- Economia de CO2 -->
            <div class="savings-card">
                <i class="fas fa-leaf" style="font-size: 3rem; animation: pulse 2s infinite;"></i>
                <div class="savings-amount" id="savingsAmount"></div>
                <p style="font-size: 1.25rem; opacity: 0.9;">economizados por ano!</p>

                <div class="comparison-grid">
                    <div class="comparison-item">
                        <p style="font-size: 0.875rem; opacity: 0.9; margin-bottom: 0.5rem;">Equivalente a plantar</p>
                        <p style="font-size: 1.5rem; font-weight: bold; margin: 0;">
                            <span id="treesEquivalent"></span> √°rvores üå≥
                        </p>
                    </div>
                    <div class="comparison-item">
                        <p style="font-size: 0.875rem; opacity: 0.9; margin-bottom: 0.5rem;">Equivale a n√£o dirigir</p>
                        <p style="font-size: 1.5rem; font-weight: bold; margin: 0;">
                            <span id="kmCarEquivalent"></span> km üöó
                        </p>
                    </div>
                </div>

                <p style="font-size: 1.1rem; font-weight: 600; margin-top: 1.5rem;" id="impactMessage"></p>
            </div>

            <!-- Informa√ß√£o Educativa -->
            <div class="info-card">
                <h3>
                    <i class="fas fa-info-circle"></i>
                    Por que rotas ecol√≥gicas fazem diferen√ßa?
                </h3>
                <div class="info-item">
                    <p><strong>üöó Velocidade constante:</strong> Rotas ecol√≥gicas evitam paradas e arranques frequentes, reduzindo o consumo de combust√≠vel em at√© 20%.</p>
                </div>
                <div class="info-item">
                    <p><strong>üå≥ Menos tr√¢nsito:</strong> Evitar congestionamentos significa menos tempo com motor ligado e menor emiss√£o de poluentes.</p>
                </div>
                <div class="info-item">
                    <p><strong>üí® Qualidade do ar:</strong> Sua escolha contribui para reduzir a polui√ß√£o atmosf√©rica nas cidades, beneficiando a sa√∫de de todos.</p>
                </div>
                <div class="info-item">
                    <p><strong>üåç Efeito multiplicador:</strong> Se cada pessoa fizesse essa escolha, as emiss√µes do transporte urbano cairiam significativamente!</p>
                </div>

                <div style="text-align: center; margin-top: 2rem;">
                <button class="btn-saiba-mais" onclick="openCalculationsModal()">
                    <i class="fas fa-calculator"></i>
                    Saiba mais sobre os c√°lculos
                </button>
            </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üíö Juntos por um planeta mais sustent√°vel</p>
                <hr style="width: 60%; margin: 8px auto; border: 0; border-top: 1px solid #3c3d3d;">
                <p class="mb-0" style="color: #6c757d; font-size: 0.85rem;">
                    ¬© 2025 <strong>CyberSquad</strong>. Todos os direitos reservados.
                </p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>


</body>
</html>